(function(_0x4f488a,_0x3ae8ca){const _0x3251a9=a17_0x1d7d,_0x267c49=_0x4f488a();while(!![]){try{const _0x35ec4a=-parseInt(_0x3251a9(0x12e))/0x1+parseInt(_0x3251a9(0x13e))/0x2*(parseInt(_0x3251a9(0x113))/0x3)+parseInt(_0x3251a9(0x114))/0x4+-parseInt(_0x3251a9(0x112))/0x5*(parseInt(_0x3251a9(0x14a))/0x6)+-parseInt(_0x3251a9(0x12f))/0x7*(-parseInt(_0x3251a9(0x119))/0x8)+-parseInt(_0x3251a9(0x13f))/0x9*(parseInt(_0x3251a9(0x126))/0xa)+parseInt(_0x3251a9(0x133))/0xb;if(_0x35ec4a===_0x3ae8ca)break;else _0x267c49['push'](_0x267c49['shift']());}catch(_0x17576b){_0x267c49['push'](_0x267c49['shift']());}}}(a17_0x3ee5,0xa42e2));import a17_0x221c30 from'ws';import{createDelCatReq,createGatherGoldReq,createGetAirDropCatReq,createHeartBeatReq,createMergeCatReq,decodeMessage,getDuplicateLvl,getSmallestCatsLvl}from'./helper.js';function a17_0x1d7d(_0x18f39f,_0x21b479){const _0x3ee5a9=a17_0x3ee5();return a17_0x1d7d=function(_0x1d7dfe,_0x4641b0){_0x1d7dfe=_0x1d7dfe-0x108;let _0x16759f=_0x3ee5a9[_0x1d7dfe];return _0x16759f;},a17_0x1d7d(_0x18f39f,_0x21b479);}import{formatNumber,getOrdinalSuffix}from'../utils/helper.js';import a17_0x3f9a0b from'chalk';function a17_0x3ee5(){const _0xf953f0=['Cats','length','DelCatAck','websocketOption','setOnLogs','magentaBright','475271rvisCU','119kYxgLj','MergeCatAck','open','cats','3377286xcbWVq','Max\x20reconnect\x20attempts\x20reached','maxReconnectAttempts','runtimeHeartBeatReq','logCallback','defineProperty','readyState','runtimeGatherGoldReq','hex','url','And','87132FnIYvu','106047ayboPk','greenBright','connect','reconnectInterval','Connected\x20to\x20game\x20server','gold','Got\x20Airdrop\x20Cat\x20LVL','OPEN','user','whiteBright','eventCallback','492438NpKSpG','HeartBeatAck','userInfo','EnterGameAck','redBright','Collected','GetAirDropCatAck','transId','credentials','goldTime','setOnEvents','from','data','10GGXRAj','6RTXIeB','4473608KokcdT','GatherGoldAck','isConnected','attemptReconnect','reconnectAttempts','216088yOeksa','message','send','close','error','handleMessage','checkMergerOrDeleteCats','protoName','yellowBright','runtimeGetAirDropCatReq','filter','blackBright','airdropIndex','560hJMURO','Mate\x20The'];a17_0x3ee5=function(){return _0xf953f0;};return a17_0x3ee5();}export class WebSocketClient{constructor(_0x136ba4){const _0x56c1e6=a17_0x1d7d;Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x13c),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x10d),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x56c1e6(0x142),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x56c1e6(0x138)](this,'maxReconnectAttempts',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x56c1e6(0x118),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x12b),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x56c1e6(0x138)](this,'transId',{'enumerable':!![],'configurable':!![],'writable':!![],'value':0x1}),Object[_0x56c1e6(0x138)](this,'ws',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x56c1e6(0x137),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x56c1e6(0x149),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x116),{'enumerable':!![],'configurable':!![],'writable':!![],'value':![]}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x147),{'enumerable':!![],'configurable':!![],'writable':!![],'value':null}),Object[_0x56c1e6(0x138)](this,'connect',{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x89b83a=_0x56c1e6;this['ws']=new a17_0x221c30(this[_0x89b83a(0x13c)],this[_0x89b83a(0x12b)]),this['ws']['on'](_0x89b83a(0x131),()=>{const _0x449fea=_0x89b83a,_0x2a529e=Buffer[_0x449fea(0x110)](this['credentials'],'hex');this['send'](_0x2a529e),this[_0x449fea(0x118)]=0x0,this[_0x449fea(0x10f)]({'event':_0x449fea(0x131)});}),this['ws']['on'](_0x89b83a(0x11a),_0x14c2b9=>{const _0x141b95=_0x89b83a;this[_0x141b95(0x11e)](_0x14c2b9);}),this['ws']['on']('close',()=>{const _0x5134b3=_0x89b83a;this['attemptReconnect'](),this[_0x5134b3(0x116)]=![],this[_0x5134b3(0x10f)]({'event':_0x5134b3(0x11c)});}),this['ws']['on'](_0x89b83a(0x11d),_0x122991=>{const _0x5939c3=_0x89b83a;this[_0x5939c3(0x12c)](''+a17_0x3f9a0b[_0x5939c3(0x109)]('WebSocket\x20error:\x20'+_0x122991)),this['isConnected']=![],this[_0x5939c3(0x10f)]({'event':'error'});});}}),Object[_0x56c1e6(0x138)](this,'setOnLogs',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0xcf4c0d=>{const _0x5e6798=_0x56c1e6;this[_0x5e6798(0x137)]&&this['logCallback'](_0xcf4c0d);}}),Object['defineProperty'](this,_0x56c1e6(0x10f),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x3b0406=>{this['eventCallback']&&this['eventCallback'](_0x3b0406);}}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x11e),{'enumerable':!![],'configurable':!![],'writable':!![],'value':async _0x57ae26=>{const _0x7d390e=_0x56c1e6;let _0x15bff4;while(!![]){try{_0x15bff4=await decodeMessage(_0x57ae26['toString'](_0x7d390e(0x13b)));break;}catch(_0x3144fe){}}const _0x47d8b9=JSON['parse'](_0x15bff4);switch(_0x47d8b9[_0x7d390e(0x120)]){case _0x7d390e(0x108):this['user']=_0x47d8b9['data'][_0x7d390e(0x14c)],this[_0x7d390e(0x136)](),this[_0x7d390e(0x13a)](),this[_0x7d390e(0x122)](),this['isConnected']=!![],this[_0x7d390e(0x11f)](),this['setOnLogs'](''+a17_0x3f9a0b[_0x7d390e(0x140)](_0x7d390e(0x143))),this[_0x7d390e(0x10f)]({'event':_0x7d390e(0x141)});break;case _0x7d390e(0x115):if(this['user']){const _0x5b8763=formatNumber(parseInt(_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x144)])-parseInt(this[_0x7d390e(0x147)][_0x7d390e(0x144)]));this[_0x7d390e(0x147)][_0x7d390e(0x144)]=_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x144)],this['user'][_0x7d390e(0x10e)]=_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x10e)],this[_0x7d390e(0x12c)](a17_0x3f9a0b[_0x7d390e(0x140)](_0x7d390e(0x10a))+'\x20'+a17_0x3f9a0b['whiteBright'](_0x5b8763)+'\x20'+a17_0x3f9a0b[_0x7d390e(0x140)]('Gold')),this[_0x7d390e(0x10f)]({'event':_0x7d390e(0x147)});}break;case _0x7d390e(0x10b):this[_0x7d390e(0x147)]&&(_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x125)]!==-0x1&&(this[_0x7d390e(0x147)][_0x7d390e(0x132)]=_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x132)],this['setOnEvents']({'event':_0x7d390e(0x147)}),this[_0x7d390e(0x11f)](),_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x125)]!==undefined&&this[_0x7d390e(0x12c)](a17_0x3f9a0b[_0x7d390e(0x12d)](_0x7d390e(0x145))+'\x20'+a17_0x3f9a0b[_0x7d390e(0x148)](_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x132)][_0x47d8b9[_0x7d390e(0x111)]['airdropIndex']]))));break;case _0x7d390e(0x130):this[_0x7d390e(0x147)]&&(this[_0x7d390e(0x147)][_0x7d390e(0x132)]=_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x132)],this[_0x7d390e(0x11f)](),this[_0x7d390e(0x10f)]({'event':_0x7d390e(0x147)}));break;case _0x7d390e(0x12a):this['user']&&(this[_0x7d390e(0x147)][_0x7d390e(0x132)]=_0x47d8b9[_0x7d390e(0x111)][_0x7d390e(0x132)],this[_0x7d390e(0x10f)]({'event':'user'}));break;case _0x7d390e(0x14b):break;default:}}}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x117),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x526950=_0x56c1e6;this['reconnectAttempts']<this['maxReconnectAttempts']?setTimeout(()=>{const _0x10bc1e=a17_0x1d7d;this[_0x10bc1e(0x12c)](a17_0x3f9a0b[_0x10bc1e(0x121)]('Reconnecting...')+'\x20'+a17_0x3f9a0b[_0x10bc1e(0x124)]('('+(this[_0x10bc1e(0x118)]+0x1)+')')),this[_0x10bc1e(0x118)]++,this[_0x10bc1e(0x141)]();},this[_0x526950(0x142)]):this['setOnLogs'](''+a17_0x3f9a0b[_0x526950(0x109)](_0x526950(0x134)));}}),Object[_0x56c1e6(0x138)](this,'runtimeHeartBeatReq',{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x5c332f=async()=>{const _0x4294e1=a17_0x1d7d;if(this[_0x4294e1(0x147)]&&this[_0x4294e1(0x116)])try{this[_0x4294e1(0x10c)]++;const _0x5a0cab=await createHeartBeatReq(this[_0x4294e1(0x10c)]),_0x533643=Buffer[_0x4294e1(0x110)](_0x5a0cab,_0x4294e1(0x13b));this[_0x4294e1(0x11b)](_0x533643);}catch(_0x353790){}};setInterval(_0x5c332f,0x1388);}}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x13a),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x47c94d=async()=>{const _0x5a6f79=a17_0x1d7d;if(this[_0x5a6f79(0x147)]&&this[_0x5a6f79(0x116)])try{this['transId']++;const _0x242386=await createGatherGoldReq(this[_0x5a6f79(0x10c)]),_0x46b66b=Buffer['from'](_0x242386,'hex');this[_0x5a6f79(0x11b)](_0x46b66b);}catch(_0x3a5fae){}};setInterval(_0x47c94d,0x2710);}}),Object[_0x56c1e6(0x138)](this,_0x56c1e6(0x122),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x3caf8d=async()=>{const _0x4ceb90=a17_0x1d7d;if(this[_0x4ceb90(0x147)]&&this['isConnected'])try{this[_0x4ceb90(0x10c)]++;const _0x379a10=await createGetAirDropCatReq(this[_0x4ceb90(0x10c)]),_0x587795=Buffer[_0x4ceb90(0x110)](_0x379a10,'hex');this[_0x4ceb90(0x11b)](_0x587795);}catch(_0x49d706){}};setInterval(_0x3caf8d,0x61a8);}}),Object[_0x56c1e6(0x138)](this,'checkMergerOrDeleteCats',{'enumerable':!![],'configurable':!![],'writable':!![],'value':async()=>{const _0x435fec=_0x56c1e6;if(this[_0x435fec(0x147)]&&this[_0x435fec(0x116)]){const _0x309c94=getDuplicateLvl(this['user'][_0x435fec(0x132)]);if(_0x309c94[_0x435fec(0x129)]>0x0&&_0x309c94[0x0]!==undefined)try{this[_0x435fec(0x10c)]++;const _0x1cf48c=await createMergeCatReq(this[_0x435fec(0x10c)],_0x309c94[0x0]);this[_0x435fec(0x12c)](a17_0x3f9a0b[_0x435fec(0x140)](_0x435fec(0x127))+'\x20'+a17_0x3f9a0b[_0x435fec(0x148)](getOrdinalSuffix(_0x309c94[0x0][0x0]+0x1))+'\x20'+a17_0x3f9a0b['greenBright'](_0x435fec(0x13d))+'\x20'+a17_0x3f9a0b[_0x435fec(0x148)](getOrdinalSuffix(_0x309c94[0x0][0x1]+0x1))+'\x20'+a17_0x3f9a0b[_0x435fec(0x140)](_0x435fec(0x128)));const _0x1d543e=Buffer[_0x435fec(0x110)](_0x1cf48c,_0x435fec(0x13b));this[_0x435fec(0x11b)](_0x1d543e);}catch(_0x3e2111){}else{if(this[_0x435fec(0x147)]['cats'][_0x435fec(0x123)](_0x36c7e8=>_0x36c7e8===0x0)[_0x435fec(0x129)]<0x2){const _0x4bdc90=getSmallestCatsLvl(this['user'][_0x435fec(0x132)]);try{if(this[_0x435fec(0x147)][_0x435fec(0x132)][_0x4bdc90]!==0x0){this[_0x435fec(0x10c)]++;const _0x3f84b7=await createDelCatReq(this[_0x435fec(0x10c)],_0x4bdc90);this[_0x435fec(0x12c)](a17_0x3f9a0b[_0x435fec(0x109)]('Delete\x20Cats\x20LVL')+'\x20'+a17_0x3f9a0b['whiteBright'](this['user'][_0x435fec(0x132)][_0x4bdc90]));const _0x2fc211=Buffer[_0x435fec(0x110)](_0x3f84b7,_0x435fec(0x13b));this['send'](_0x2fc211);}}catch(_0x534db3){}}}}}}),Object[_0x56c1e6(0x138)](this,'onLogs',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x31f54c=>{this['logCallback']=_0x31f54c;}}),Object['defineProperty'](this,'onEvents',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x50f704=>{const _0x45defc=_0x56c1e6;this[_0x45defc(0x149)]=_0x50f704;}}),Object['defineProperty'](this,'send',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x2dcbdd=>{const _0x39c45f=_0x56c1e6;this['ws']&&this['ws'][_0x39c45f(0x139)]===a17_0x221c30[_0x39c45f(0x146)]&&this['ws'][_0x39c45f(0x11b)](_0x2dcbdd);}}),Object['defineProperty'](this,_0x56c1e6(0x11c),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x15b79f=_0x56c1e6;this['ws']&&this['ws'][_0x15b79f(0x11c)]();}}),this[_0x56c1e6(0x13c)]=_0x136ba4['url'],this[_0x56c1e6(0x10d)]=_0x136ba4['credentials'],this[_0x56c1e6(0x142)]=_0x136ba4[_0x56c1e6(0x142)]||0x1388,this['maxReconnectAttempts']=_0x136ba4[_0x56c1e6(0x135)]||0xa,this[_0x56c1e6(0x12b)]=_0x136ba4[_0x56c1e6(0x12b)]||{},this['reconnectAttempts']=0x0,this['ws']=null,this[_0x56c1e6(0x141)]();}}