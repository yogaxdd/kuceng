(function(_0x8ff7a9,_0x4559e2){const _0x26e070=a17_0x3481,_0x3f8fa8=_0x8ff7a9();while(!![]){try{const _0x36e0ea=-parseInt(_0x26e070(0x205))/0x1+parseInt(_0x26e070(0x1f0))/0x2+parseInt(_0x26e070(0x1ea))/0x3+-parseInt(_0x26e070(0x1dc))/0x4+-parseInt(_0x26e070(0x209))/0x5+-parseInt(_0x26e070(0x1e1))/0x6*(parseInt(_0x26e070(0x1fc))/0x7)+parseInt(_0x26e070(0x1d9))/0x8;if(_0x36e0ea===_0x4559e2)break;else _0x3f8fa8['push'](_0x3f8fa8['shift']());}catch(_0xbaafb2){_0x3f8fa8['push'](_0x3f8fa8['shift']());}}}(a17_0x5424,0x7cae5));function a17_0x3481(_0x34fde6,_0x3d24b7){const _0x54242f=a17_0x5424();return a17_0x3481=function(_0x348102,_0x309d95){_0x348102=_0x348102-0x1ce;let _0x4cdc3e=_0x54242f[_0x348102];return _0x4cdc3e;},a17_0x3481(_0x34fde6,_0x3d24b7);}import a17_0x4b8fac from'ws';function a17_0x5424(){const _0x2f9685=['transId','3128635foRMLU','Got\x20Airdrop\x20Cat\x20LVL','send','Max\x20reconnect\x20attempts\x20reached','websocketOption','Connected\x20to\x20game\x20server','redBright','runtimeHeartBeatReq','readyState','hex','Gold','logCallback','connect','And','8815384nFBiPS','gold','defineProperty','1735880PHfTEo','isConnected','EnterGameAck','runtimeGatherGoldReq','goldTime','18tzDEhR','reconnectInterval','magentaBright','eventCallback','runtimeGetAirDropCatReq','reconnectAttempts','data','handleMessage','filter','2354157zeHgdN','setOnLogs','Mate\x20The','yellowBright','airdropIndex','setOnEvents','935744RESpCb','toString','from','maxReconnectAttempts','greenBright','GetAirDropCatAck','error','close','url','parse','credentials','user','1263290tkQYnE','whiteBright','attemptReconnect','length','open','DelCatAck','cats','message','Delete\x20Cats\x20LVL','242714qNcBMx','checkMergerOrDeleteCats','onEvents'];a17_0x5424=function(){return _0x2f9685;};return a17_0x5424();}import{createDelCatReq,createGatherGoldReq,createGetAirDropCatReq,createHeartBeatReq,createMergeCatReq,decodeMessage,getDuplicateLvl,getSmallestCatsLvl}from'./helper.js';import{formatNumber,getOrdinalSuffix}from'../utils/helper.js';import a17_0x59c73f from'chalk';export class WebSocketClient{constructor(_0x16c54e){const _0x23108e=a17_0x3481;Object[_0x23108e(0x1db)](this,_0x23108e(0x1f8),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x23108e(0x1db)](this,_0x23108e(0x1fa),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,'reconnectInterval',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x23108e(0x1f3),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,'reconnectAttempts',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x23108e(0x1db)](this,_0x23108e(0x1cf),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x23108e(0x1db)](this,_0x23108e(0x208),{'enumerable':!![],'configurable':!![],'writable':!![],'value':0x1}),Object['defineProperty'](this,'ws',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x23108e(0x1db)](this,_0x23108e(0x1d6),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x23108e(0x1db)](this,'eventCallback',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x23108e(0x1dd),{'enumerable':!![],'configurable':!![],'writable':!![],'value':![]}),Object[_0x23108e(0x1db)](this,_0x23108e(0x1fb),{'enumerable':!![],'configurable':!![],'writable':!![],'value':null}),Object['defineProperty'](this,_0x23108e(0x1d7),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x26b76d=_0x23108e;this['ws']=new a17_0x4b8fac(this[_0x26b76d(0x1f8)],this[_0x26b76d(0x1cf)]),this['ws']['on'](_0x26b76d(0x200),()=>{const _0x1240a7=_0x26b76d,_0x572ee5=Buffer[_0x1240a7(0x1f2)](this[_0x1240a7(0x1fa)],_0x1240a7(0x1d4));this['send'](_0x572ee5),this[_0x1240a7(0x1e6)]=0x0,this['setOnEvents']({'event':'open'});}),this['ws']['on'](_0x26b76d(0x203),_0x434649=>{const _0x41cc6d=_0x26b76d;this[_0x41cc6d(0x1e8)](_0x434649);}),this['ws']['on'](_0x26b76d(0x1f7),()=>{const _0x58927b=_0x26b76d;this[_0x58927b(0x1fe)](),this[_0x58927b(0x1dd)]=![],this[_0x58927b(0x1ef)]({'event':'close'});}),this['ws']['on']('error',_0x4f096b=>{const _0x1b6cd4=_0x26b76d;this[_0x1b6cd4(0x1eb)](''+a17_0x59c73f[_0x1b6cd4(0x1d1)]('WebSocket\x20error:\x20'+_0x4f096b)),this['isConnected']=![],this[_0x1b6cd4(0x1ef)]({'event':_0x1b6cd4(0x1f6)});});}}),Object[_0x23108e(0x1db)](this,_0x23108e(0x1eb),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x378453=>{const _0x11a106=_0x23108e;this[_0x11a106(0x1d6)]&&this['logCallback'](_0x378453);}}),Object[_0x23108e(0x1db)](this,'setOnEvents',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x3639dc=>{const _0x4c3f8f=_0x23108e;this['eventCallback']&&this[_0x4c3f8f(0x1e4)](_0x3639dc);}}),Object['defineProperty'](this,_0x23108e(0x1e8),{'enumerable':!![],'configurable':!![],'writable':!![],'value':async _0x3278c6=>{const _0x23ddf7=_0x23108e;let _0x2f380e;while(!![]){try{_0x2f380e=await decodeMessage(_0x3278c6[_0x23ddf7(0x1f1)](_0x23ddf7(0x1d4)));break;}catch(_0x39df65){}}const _0x546c96=JSON[_0x23ddf7(0x1f9)](_0x2f380e);switch(_0x546c96['protoName']){case _0x23ddf7(0x1de):this[_0x23ddf7(0x1fb)]=_0x546c96[_0x23ddf7(0x1e7)]['userInfo'],this[_0x23ddf7(0x1d2)](),this[_0x23ddf7(0x1df)](),this['runtimeGetAirDropCatReq'](),this[_0x23ddf7(0x1dd)]=!![],this[_0x23ddf7(0x206)](),this[_0x23ddf7(0x1eb)](''+a17_0x59c73f[_0x23ddf7(0x1f4)](_0x23ddf7(0x1d0))),this[_0x23ddf7(0x1ef)]({'event':_0x23ddf7(0x1d7)});break;case'GatherGoldAck':if(this['user']){const _0x29dca0=formatNumber(parseInt(_0x546c96[_0x23ddf7(0x1e7)][_0x23ddf7(0x1da)])-parseInt(this['user'][_0x23ddf7(0x1da)]));this[_0x23ddf7(0x1fb)][_0x23ddf7(0x1da)]=_0x546c96[_0x23ddf7(0x1e7)][_0x23ddf7(0x1da)],this[_0x23ddf7(0x1fb)][_0x23ddf7(0x1e0)]=_0x546c96[_0x23ddf7(0x1e7)]['goldTime'],this[_0x23ddf7(0x1eb)](a17_0x59c73f['greenBright']('Collected')+'\x20'+a17_0x59c73f[_0x23ddf7(0x1fd)](_0x29dca0)+'\x20'+a17_0x59c73f['greenBright'](_0x23ddf7(0x1d5))),this[_0x23ddf7(0x1ef)]({'event':_0x23ddf7(0x1fb)});}break;case _0x23ddf7(0x1f5):this['user']&&(_0x546c96[_0x23ddf7(0x1e7)][_0x23ddf7(0x1ee)]!==-0x1&&(this['user'][_0x23ddf7(0x202)]=_0x546c96[_0x23ddf7(0x1e7)][_0x23ddf7(0x202)],this[_0x23ddf7(0x1ef)]({'event':_0x23ddf7(0x1fb)}),this['checkMergerOrDeleteCats'](),_0x546c96['data'][_0x23ddf7(0x1ee)]!==undefined&&this[_0x23ddf7(0x1eb)](a17_0x59c73f[_0x23ddf7(0x1e3)](_0x23ddf7(0x20a))+'\x20'+a17_0x59c73f[_0x23ddf7(0x1fd)](_0x546c96['data'][_0x23ddf7(0x202)][_0x546c96[_0x23ddf7(0x1e7)]['airdropIndex']]))));break;case'MergeCatAck':this[_0x23ddf7(0x1fb)]&&(this[_0x23ddf7(0x1fb)][_0x23ddf7(0x202)]=_0x546c96['data'][_0x23ddf7(0x202)],this[_0x23ddf7(0x206)](),this[_0x23ddf7(0x1ef)]({'event':_0x23ddf7(0x1fb)}));break;case _0x23ddf7(0x201):this[_0x23ddf7(0x1fb)]&&(this[_0x23ddf7(0x1fb)][_0x23ddf7(0x202)]=_0x546c96[_0x23ddf7(0x1e7)][_0x23ddf7(0x202)],this[_0x23ddf7(0x1ef)]({'event':'user'}));break;case'HeartBeatAck':break;default:}}}),Object['defineProperty'](this,_0x23108e(0x1fe),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x592c1d=_0x23108e;this[_0x592c1d(0x1e6)]<this['maxReconnectAttempts']?setTimeout(()=>{const _0x3e5553=_0x592c1d;this[_0x3e5553(0x1eb)](a17_0x59c73f[_0x3e5553(0x1ed)]('Reconnecting...')+'\x20'+a17_0x59c73f['blackBright']('('+(this[_0x3e5553(0x1e6)]+0x1)+')')),this['reconnectAttempts']++,this[_0x3e5553(0x1d7)]();},this[_0x592c1d(0x1e2)]):this['setOnLogs'](''+a17_0x59c73f[_0x592c1d(0x1d1)](_0x592c1d(0x1ce)));}}),Object['defineProperty'](this,_0x23108e(0x1d2),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x31f498=async()=>{const _0x4f5656=a17_0x3481;if(this[_0x4f5656(0x1fb)]&&this[_0x4f5656(0x1dd)])try{this[_0x4f5656(0x208)]++;const _0x188187=await createHeartBeatReq(this['transId']),_0x29b1a2=Buffer[_0x4f5656(0x1f2)](_0x188187,'hex');this['send'](_0x29b1a2);}catch(_0x401a90){}};setInterval(_0x31f498,0x1388);}}),Object[_0x23108e(0x1db)](this,'runtimeGatherGoldReq',{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x223bf0=async()=>{const _0x4c7869=a17_0x3481;if(this[_0x4c7869(0x1fb)]&&this[_0x4c7869(0x1dd)])try{this['transId']++;const _0x5cc788=await createGatherGoldReq(this['transId']),_0x1d928e=Buffer['from'](_0x5cc788,'hex');this[_0x4c7869(0x20b)](_0x1d928e);}catch(_0x5c6a2f){}};setInterval(_0x223bf0,0x2710);}}),Object[_0x23108e(0x1db)](this,_0x23108e(0x1e5),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x539415=async()=>{const _0x4ec5ab=a17_0x3481;if(this[_0x4ec5ab(0x1fb)]&&this[_0x4ec5ab(0x1dd)])try{this[_0x4ec5ab(0x208)]++;const _0x57c251=await createGetAirDropCatReq(this[_0x4ec5ab(0x208)]),_0x3f1694=Buffer[_0x4ec5ab(0x1f2)](_0x57c251,_0x4ec5ab(0x1d4));this['send'](_0x3f1694);}catch(_0x1aa890){}};setInterval(_0x539415,0x61a8);}}),Object[_0x23108e(0x1db)](this,_0x23108e(0x206),{'enumerable':!![],'configurable':!![],'writable':!![],'value':async()=>{const _0x4727a6=_0x23108e;if(this['user']&&this[_0x4727a6(0x1dd)]){const _0x41e627=getDuplicateLvl(this['user'][_0x4727a6(0x202)]);if(_0x41e627[_0x4727a6(0x1ff)]>0x0&&_0x41e627[0x0]!==undefined)try{this['transId']++;const _0x526701=await createMergeCatReq(this[_0x4727a6(0x208)],_0x41e627[0x0]);this[_0x4727a6(0x1eb)](a17_0x59c73f[_0x4727a6(0x1f4)](_0x4727a6(0x1ec))+'\x20'+a17_0x59c73f['whiteBright'](getOrdinalSuffix(_0x41e627[0x0][0x0]+0x1))+'\x20'+a17_0x59c73f['greenBright'](_0x4727a6(0x1d8))+'\x20'+a17_0x59c73f['whiteBright'](getOrdinalSuffix(_0x41e627[0x0][0x1]+0x1))+'\x20'+a17_0x59c73f[_0x4727a6(0x1f4)]('Cats'));const _0x548b83=Buffer[_0x4727a6(0x1f2)](_0x526701,_0x4727a6(0x1d4));this[_0x4727a6(0x20b)](_0x548b83);}catch(_0x2abbda){}else{if(this['user']['cats'][_0x4727a6(0x1e9)](_0x32a0a1=>_0x32a0a1===0x0)[_0x4727a6(0x1ff)]<0x2){const _0x2244ab=getSmallestCatsLvl(this[_0x4727a6(0x1fb)][_0x4727a6(0x202)]);try{if(this[_0x4727a6(0x1fb)][_0x4727a6(0x202)][_0x2244ab]!==0x0){this[_0x4727a6(0x208)]++;const _0x33cb08=await createDelCatReq(this[_0x4727a6(0x208)],_0x2244ab);this[_0x4727a6(0x1eb)](a17_0x59c73f['redBright'](_0x4727a6(0x204))+'\x20'+a17_0x59c73f[_0x4727a6(0x1fd)](this[_0x4727a6(0x1fb)][_0x4727a6(0x202)][_0x2244ab]));const _0x408326=Buffer[_0x4727a6(0x1f2)](_0x33cb08,_0x4727a6(0x1d4));this[_0x4727a6(0x20b)](_0x408326);}}catch(_0x120e8f){}}}}}}),Object[_0x23108e(0x1db)](this,'onLogs',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x2057ce=>{const _0x1a7a1c=_0x23108e;this[_0x1a7a1c(0x1d6)]=_0x2057ce;}}),Object[_0x23108e(0x1db)](this,_0x23108e(0x207),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x4d54db=>{const _0x2291a6=_0x23108e;this[_0x2291a6(0x1e4)]=_0x4d54db;}}),Object[_0x23108e(0x1db)](this,_0x23108e(0x20b),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x12187d=>{const _0x4b4dab=_0x23108e;this['ws']&&this['ws'][_0x4b4dab(0x1d3)]===a17_0x4b8fac['OPEN']&&this['ws']['send'](_0x12187d);}}),Object[_0x23108e(0x1db)](this,_0x23108e(0x1f7),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x35dfc1=_0x23108e;this['ws']&&this['ws'][_0x35dfc1(0x1f7)]();}}),this[_0x23108e(0x1f8)]=_0x16c54e[_0x23108e(0x1f8)],this[_0x23108e(0x1fa)]=_0x16c54e[_0x23108e(0x1fa)],this[_0x23108e(0x1e2)]=_0x16c54e[_0x23108e(0x1e2)]||0x1388,this[_0x23108e(0x1f3)]=_0x16c54e[_0x23108e(0x1f3)]||0xa,this[_0x23108e(0x1cf)]=_0x16c54e[_0x23108e(0x1cf)]||{},this['reconnectAttempts']=0x0,this['ws']=null,this[_0x23108e(0x1d7)]();}}